#!name=Xbox Cart Web
#!desc=访问 https://addtocart.com 触发远程脚本
#!author=Ah Long
#!category=Xbox

[Host]
# 核心：将 addtocart.com 解析到 Surge 内部 IP
# 这样手机发出的请求会被 Surge 直接截获，不会去公网找服务器
addtocart.com = 198.18.0.1

[Script]
# 正则匹配：支持 http 和 https，域名为 addtocart.com
xbox_web_runner = type=http-request, pattern=^https?://addtocart\.com/?.*, script-path=https://raw.githubusercontent.com/XXhaos/Surge/refs/heads/main/NewAddToCart_Web.js, timeout=60

[MITM]
# 必须开启，用于解密 HTTPS 流量
hostname = %APPEND% addtocart.com
